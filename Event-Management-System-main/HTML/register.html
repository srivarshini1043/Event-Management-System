<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <!-- CSS -->
    <link rel="stylesheet" href="/CSS/registerstyle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
</head>
<body>

    <!-- Navigation Bar -->
    <nav>
        <h1>EVENTSARK</h1>
        <ul>
            <li><a href="/HTML/login.html"><i class="fas fa-right-to-bracket"></i> Login</a></li>
            <li><a href="#" class="active"><i class="fas fa-user-plus"></i> Signup</a></li>
        </ul>
    </nav>

    <!-- SIgnup Form -->
    <section class="signup">
        <div class="container">
            <!-- Image Container -->
            <div class="image-container">
                <img src="/Images/Register image.jpg" alt="Signup Vector">
            </div>
            <!-- Form Container -->
            <div class="form-container">
                <h1>New Account</h1>
       <form onSubmit="Register(event)" >         
                <div class="input-group">
                    <input type="text" required name="fname" id="first-name" placeholder="First Name *">
                    <i class="fas fa-user"></i>
                </div>
                <div class="input-group">
                    <input type="text" required name="lname" id="last-name" placeholder="Last Name">
                    <i class="fas fa-user"></i>
                </div>
                <div class="input-group">
                    <input required type="email" name="email" id="email" placeholder="Email Address *">
                    <i class="fas fa-envelope"></i>
                </div>
                <div class="input-group">
                    <input type="password"  required name="password" id="password" placeholder="Password *" oninput="validatePassword()">
                    <i class="fas fa-eye-slash toggle-password" onclick="togglePasswordVisibility('password')"></i>
                </div>
                <div id="password-validation" class="password-validation">
                    <div id="min-length" class="validation">
                        <span class="validation-icon"><i class="fas fa-times"></i></span> Minimum of 8 characters
                    </div>
                    <div id="symbol" class="validation">
                        <span class="validation-icon"><i class="fas fa-times"></i></span> At least one symbol
                    </div>
                    <div id="uppercase" class="validation">
                        <span class="validation-icon"><i class="fas fa-times"></i></span> At least one uppercase letter
                    </div>
                    <div id="number" class="validation">
                        <span class="validation-icon"><i class="fas fa-times"></i></span> At least one number
                    </div>
                </div>
                <div class="input-group">
                    <input type="password" id="confirm-password" placeholder="Confirm Password *" oninput="validateConfirmPassword()">
                    <i class="fas fa-eye-slash toggle-password" onclick="togglePasswordVisibility('confirm-password')"></i>
                </div>
                <button type="submit">Create Account</button>
                </form>

                <div class="switch">
                    <p>Already have an account? <a href="/HTML/login.html" id="switch-to-login">Login</a></p>
                </div>
            </div>
        </div>
    </section>
<script>
function  Register(e){
e.preventDefault()
const {fname,lname,email,password}=e.target

$.ajax({
    type: 'POST',
    url: 'http://localhost:8081/adduser',
    data:JSON.stringify({"fname":fname.value,"lname":lname.value,"email":email.value,"password":password.value}),
    contentType: 'application/json; charset=utf-8',
    dataType: 'json',
    success: function(response) {
       if(response==0){
        toastr.success('Success');
        e.target.reset();
       }else{
        toastr.error("Already have User");
       }
        
    },
    error: function(xhr, status, error) {
        console.log(xhr,status,error)
        toastr.error(error, status);
    }

})


}


    
</script>
</body>
</html>